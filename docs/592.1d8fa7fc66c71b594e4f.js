"use strict";(self.webpackChunkcontatos_web=self.webpackChunkcontatos_web||[]).push([[592],{9592:(Q,g,m)=>{m.r(g),m.d(g,{CompanyModule:()=>w});var l=m(8583),p=m(3679),s=m(2789),u=m(1095),d=m(8295),f=m(9983),y=m(7441),Z=m(6458),r=m(4655),o=m(7716),C=m(6196);function _(e,a){1&e&&(o.TgZ(0,"th",13),o._uU(1," Nome "),o.qZA())}function T(e,a){if(1&e&&(o.TgZ(0,"td",14),o._uU(1),o.qZA()),2&e){const t=a.$implicit;o.xp6(1),o.hij(" ",t.name," ")}}function A(e,a){1&e&&(o.TgZ(0,"th",13),o._uU(1," Telefone "),o.qZA())}function v(e,a){if(1&e&&(o.TgZ(0,"td",14),o._uU(1),o.qZA()),2&e){const t=a.$implicit;o.xp6(1),o.hij(" ",t.phone," ")}}function U(e,a){1&e&&(o.TgZ(0,"th",13),o._uU(1," Tipo "),o.qZA())}function q(e,a){if(1&e&&(o.TgZ(0,"td",14),o._uU(1),o.qZA()),2&e){const t=a.$implicit;o.xp6(1),o.hij(" ",t.type," ")}}function x(e,a){1&e&&(o.TgZ(0,"th",13),o._uU(1," Endere\xe7o "),o.qZA())}function b(e,a){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){const t=o.oxw().$implicit;o.xp6(1),o.xDo(" ",t.addressLogradouro,", ",t.addressNumero,", ",t.addressBairro," - ",t.addressCidade,"/",t.addressUf," ")}}function N(e,a){1&e&&(o.TgZ(0,"span"),o._uU(1,"-"),o.qZA())}function F(e,a){if(1&e&&(o.TgZ(0,"td",14),o.YNc(1,b,2,5,"span",15),o.YNc(2,N,2,0,"span",15),o.qZA()),2&e){const t=a.$implicit;o.xp6(1),o.Q6J("ngIf",t.addressLogradouro),o.xp6(1),o.Q6J("ngIf",!t.addressLogradouro)}}function D(e,a){1&e&&o._UZ(0,"th",13)}function E(e,a){if(1&e){const t=o.EpF();o.TgZ(0,"td",14),o.TgZ(1,"button",2),o._uU(2,"Editar"),o.qZA(),o.TgZ(3,"button",16),o.NdJ("click",function(){const c=o.CHM(t).$implicit;return o.oxw().deleteCompany(c.id)}),o._uU(4,"Excluir"),o.qZA(),o.qZA()}if(2&e){const t=a.$implicit;o.xp6(1),o.Q6J("routerLink","/empresas/"+t.id)}}function M(e,a){1&e&&o._UZ(0,"tr",17)}function B(e,a){1&e&&o._UZ(0,"tr",18)}const P=function(){return["/empresas/nova-empresa"]};let S=(()=>{class e{constructor(t,n){this.companyService=t,this.snackBar=n,this.displayedColumns=["name","phone","type","address","actions"],this.companies=[]}ngOnInit(){this.companyService.getCompanies().subscribe(t=>{this.companies=t},t=>{this.snackBar.open(t.message,"OK",{verticalPosition:"top"})})}deleteCompany(t){this.companyService.deleteCompany(t).subscribe(n=>{this.companies=this.companies.filter(i=>i.id!==t)},n=>{this.snackBar.open(n.message,"OK",{verticalPosition:"top"})})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(C.J),o.Y36(Z.ux))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-companies"]],decls:22,vars:5,consts:[[1,"companies"],[1,"new-company"],["mat-raised-button","","color","primary",3,"routerLink"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","phone"],["matColumnDef","type"],["matColumnDef","address"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,n){1&t&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"button",2),o._uU(3,"Nova Empresa"),o.qZA(),o.qZA(),o.TgZ(4,"table",3),o.ynx(5,4),o.YNc(6,_,2,0,"th",5),o.YNc(7,T,2,1,"td",6),o.BQk(),o.ynx(8,7),o.YNc(9,A,2,0,"th",5),o.YNc(10,v,2,1,"td",6),o.BQk(),o.ynx(11,8),o.YNc(12,U,2,0,"th",5),o.YNc(13,q,2,1,"td",6),o.BQk(),o.ynx(14,9),o.YNc(15,x,2,0,"th",5),o.YNc(16,F,3,2,"td",6),o.BQk(),o.ynx(17,10),o.YNc(18,D,1,0,"th",5),o.YNc(19,E,5,1,"td",6),o.BQk(),o.YNc(20,M,1,0,"tr",11),o.YNc(21,B,1,0,"tr",12),o.qZA(),o.qZA()),2&t&&(o.xp6(2),o.Q6J("routerLink",o.DdM(4,P)),o.xp6(2),o.Q6J("dataSource",n.companies),o.xp6(16),o.Q6J("matHeaderRowDef",n.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",n.displayedColumns))},directives:[u.lW,r.rH,s.BZ,s.w1,s.fO,s.Dz,s.as,s.nj,s.ge,s.ev,l.O5,s.XQ,s.Gk],styles:[".companies[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:auto}.companies[_ngcontent-%COMP%]   .new-company[_ngcontent-%COMP%]{text-align:right;margin-bottom:20px}.companies[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}"]}),e})();var Y=m(4245),J=m(2458);function R(e,a){if(1&e){const t=o.EpF();o.TgZ(0,"form",2),o.TgZ(1,"mat-form-field",3),o.TgZ(2,"mat-label"),o._uU(3,"Tipo"),o.qZA(),o.TgZ(4,"mat-select",4),o.TgZ(5,"mat-option",5),o._uU(6,"Cliente"),o.qZA(),o.TgZ(7,"mat-option",6),o._uU(8,"Fornecedor"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"mat-form-field",3),o.TgZ(10,"mat-label"),o._uU(11,"Nome"),o.qZA(),o._UZ(12,"input",7),o.qZA(),o.TgZ(13,"mat-form-field",3),o.TgZ(14,"mat-label"),o._uU(15,"Telefone"),o.qZA(),o._UZ(16,"input",8),o.qZA(),o.TgZ(17,"mat-form-field",3),o.TgZ(18,"mat-label"),o._uU(19,"Cep"),o.qZA(),o.TgZ(20,"input",9),o.NdJ("blur",function(i){return o.CHM(t),o.oxw().getCep(i)}),o.qZA(),o.qZA(),o.TgZ(21,"mat-form-field",3),o.TgZ(22,"mat-label"),o._uU(23,"Logradouro"),o.qZA(),o._UZ(24,"input",10),o.qZA(),o.TgZ(25,"mat-form-field",3),o.TgZ(26,"mat-label"),o._uU(27,"N\xfamero"),o.qZA(),o._UZ(28,"input",11),o.qZA(),o.TgZ(29,"mat-form-field",3),o.TgZ(30,"mat-label"),o._uU(31,"Complemento"),o.qZA(),o._UZ(32,"input",12),o.qZA(),o.TgZ(33,"mat-form-field",3),o.TgZ(34,"mat-label"),o._uU(35,"Bairro"),o.qZA(),o._UZ(36,"input",13),o.qZA(),o.TgZ(37,"mat-form-field",3),o.TgZ(38,"mat-label"),o._uU(39,"Cidade"),o.qZA(),o._UZ(40,"input",14),o.qZA(),o.TgZ(41,"mat-form-field",3),o.TgZ(42,"mat-label"),o._uU(43,"UF"),o.qZA(),o.TgZ(44,"mat-select",15),o.TgZ(45,"mat-option",16),o._uU(46,"Acre"),o.qZA(),o.TgZ(47,"mat-option",17),o._uU(48,"Alagoas"),o.qZA(),o.TgZ(49,"mat-option",18),o._uU(50,"Amap\xe1"),o.qZA(),o.TgZ(51,"mat-option",19),o._uU(52,"Amazonas"),o.qZA(),o.TgZ(53,"mat-option",20),o._uU(54,"Bahia"),o.qZA(),o.TgZ(55,"mat-option",21),o._uU(56,"Cear\xe1"),o.qZA(),o.TgZ(57,"mat-option",22),o._uU(58,"Distrito Federal"),o.qZA(),o.TgZ(59,"mat-option",23),o._uU(60,"Esp\xedrito Santo"),o.qZA(),o.TgZ(61,"mat-option",24),o._uU(62,"Goi\xe1s"),o.qZA(),o.TgZ(63,"mat-option",25),o._uU(64,"Maranh\xe3o"),o.qZA(),o.TgZ(65,"mat-option",26),o._uU(66,"Mato Grosso"),o.qZA(),o.TgZ(67,"mat-option",27),o._uU(68,"Mato Grosso do Sul"),o.qZA(),o.TgZ(69,"mat-option",28),o._uU(70,"Minas Gerais"),o.qZA(),o.TgZ(71,"mat-option",29),o._uU(72,"Par\xe1"),o.qZA(),o.TgZ(73,"mat-option",30),o._uU(74,"Para\xedba"),o.qZA(),o.TgZ(75,"mat-option",31),o._uU(76,"Paran\xe1"),o.qZA(),o.TgZ(77,"mat-option",32),o._uU(78,"Pernambuco"),o.qZA(),o.TgZ(79,"mat-option",33),o._uU(80,"Piau\xed"),o.qZA(),o.TgZ(81,"mat-option",34),o._uU(82,"Rio de Janeiro"),o.qZA(),o.TgZ(83,"mat-option",35),o._uU(84,"Rio Grande do Norte"),o.qZA(),o.TgZ(85,"mat-option",36),o._uU(86,"Rio Grande do Sul"),o.qZA(),o.TgZ(87,"mat-option",37),o._uU(88,"Rond\xf4nia"),o.qZA(),o.TgZ(89,"mat-option",38),o._uU(90,"Roraima"),o.qZA(),o.TgZ(91,"mat-option",39),o._uU(92,"Santa Catarina"),o.qZA(),o.TgZ(93,"mat-option",40),o._uU(94,"S\xe3o Paulo"),o.qZA(),o.TgZ(95,"mat-option",41),o._uU(96,"Sergipe"),o.qZA(),o.TgZ(97,"mat-option",42),o._uU(98,"Tocantins"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(99,"button",43),o.NdJ("click",function(){return o.CHM(t),o.oxw().saveCompany()}),o.TgZ(100,"span"),o._uU(101,"SALVAR"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const t=o.oxw();o.Q6J("formGroup",t.companyForm),o.xp6(99),o.Q6J("disabled",t.companyForm.invalid||t.companyForm.pristine)}}const O=[{path:"",component:S},{path:":id",component:(()=>{class e{constructor(t,n,i,c,h){this.companyService=t,this.fb=n,this.activatedRoute=i,this.router=c,this.snackBar=h,this.company=new Y.Y(0,"","","","","","","","","",""),this.companyId=0,this.isEdit=!1}ngOnInit(){this.activatedRoute.params.subscribe(t=>{"nova-empresa"!=t.id?(this.isEdit=!0,this.companyId=t.id,this.getCompany(this.companyId)):this.companyForm=this.createForm()})}getCompany(t){this.companyService.getCompany(t).subscribe(n=>{this.company=n,this.companyForm=this.createForm()},n=>{this.snackBar.open(n.message,"OK",{verticalPosition:"top"})})}createForm(){return this.fb.group({id:[this.company.id],type:[this.company.type],name:[this.company.name],phone:[this.company.phone],addressLogradouro:[this.company.addressLogradouro],addressNumero:[this.company.addressNumero],addressComplemento:[this.company.addressComplemento],addressBairro:[this.company.addressBairro],addressCidade:[this.company.addressCidade],addressUf:[this.company.addressUf],addressCep:[this.company.addressCep]})}saveCompany(){this.addEditCompany=Object.assign({},this.companyForm.value),this.isEdit?this.companyService.editCompany(this.companyId,this.addEditCompany).subscribe(t=>{this.company=t,this.router.navigate(["/empresas"])},t=>{this.snackBar.open(t.message,"OK",{verticalPosition:"top"})}):this.companyService.addCompany(this.addEditCompany).subscribe(t=>{this.company=t,this.router.navigate(["/empresas"])},t=>{this.snackBar.open(t.message,"OK",{verticalPosition:"top"})})}getCep(t){let n=t.target.value.replace(/\D/g,"");this.companyService.getAddress(n).subscribe(i=>{this.companyForm.controls.addressLogradouro.setValue(i.logradouro),this.companyForm.controls.addressComplemento.setValue(i.complemento),this.companyForm.controls.addressBairro.setValue(i.bairro),this.companyForm.controls.addressCidade.setValue(i.localidade),this.companyForm.controls.addressUf.setValue(i.uf)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(C.J),o.Y36(p.qu),o.Y36(r.gz),o.Y36(r.F0),o.Y36(Z.ux))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-company-details"]],decls:2,vars:1,consts:[[1,"company-details"],["name","companyForm",3,"formGroup",4,"ngIf"],["name","companyForm",3,"formGroup"],["appearance","outline","floatLabel","always",1,"field"],["placeholder","Escolha um Tipo","formControlName","type","required",""],["value","Cliente"],["value","Fornecedor"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","phone","required",""],["matInput","","formControlName","addressCep",3,"blur"],["matInput","","formControlName","addressLogradouro"],["matInput","","formControlName","addressNumero"],["matInput","","formControlName","addressComplemento"],["matInput","","formControlName","addressBairro"],["matInput","","formControlName","addressCidade"],["placeholder","Escolha um estado","formControlName","addressUf"],["value","AC"],["value","AL"],["value","AP"],["value","AM"],["value","BA"],["value","CE"],["value","DF"],["value","ES"],["value","GO"],["value","MA"],["value","MT"],["value","MS"],["value","MG"],["value","PA"],["value","PB"],["value","PR"],["value","PE"],["value","PI"],["value","RJ"],["value","RN"],["value","RS"],["value","RO"],["value","RR"],["value","SC"],["value","SP"],["value","SE"],["value","TO"],["mat-raised-button","","color","primary",1,"btn-save",3,"disabled","click"]],template:function(t,n){1&t&&(o.TgZ(0,"section",0),o.YNc(1,R,102,2,"form",1),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngIf",n.companyForm))},directives:[l.O5,p._Y,p.JL,p.sg,d.KE,d.hX,y.gD,p.JJ,p.u,p.Q7,J.ey,f.Nt,p.Fj,u.lW],styles:[".company-details[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:auto}.company-details[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%}"]}),e})()}];let I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[r.Bz.forChild(O)],r.Bz]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[C.J],imports:[[l.ez,I,s.p0,u.ot,p.u5,d.lN,f.c,p.UX,y.LD,Z.ZX]]}),e})()}}]);